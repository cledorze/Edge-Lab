apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: demo-workload-site-a
  namespace: demo-workload-site-a
  annotations:
    # DYNAMIC HOSTNAME: This Ingress hostname is automatically updated by update-ingress-job.yaml
    # Based on SUSE Edge 3.4 documentation recommendation (Section 24.6.1: "Ingress with MetalLB")
    # The Job automatically detects Traefik LoadBalancer, nginx LoadBalancer, or uses node IP
    # Format: demo-workload-site-a.<INGRESS_CONTROLLER_IP>.sslip.io
    # Reference: https://documentation.suse.com/suse-edge/3.4/html/edge/kubernetes-metallb.html#_ingress_with_metallb
    # For single-node clusters, this is typically the node IP
    # For multi-node clusters, this is the VIP or LoadBalancer IP assigned by MetalLB
spec:
  ingressClassName: traefik
  rules:
  # Placeholder hostname - will be updated by update-ingress-job.yaml with actual Ingress Controller IP
  # Format: demo-workload-site-a.<INGRESS_CONTROLLER_IP>.sslip.io
  - host: demo-workload-site-a.placeholder.sslip.io
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: demo-workload-site-a
            port:
              number: 80

